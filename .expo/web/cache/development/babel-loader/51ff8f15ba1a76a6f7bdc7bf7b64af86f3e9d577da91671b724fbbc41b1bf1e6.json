{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withNetworkHandler = withNetworkHandler;\nexports.withNetworkHandlerWithHeader = withNetworkHandlerWithHeader;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _NetworkHandler = _interopRequireDefault(require(\"./NetworkHandler\"));\nvar _jsxFileName = \"C:\\\\Users\\\\acer\\\\Desktop\\\\paltanweb\\\\src\\\\components\\\\common\\\\withNetworkHandler.tsx\";\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nfunction withNetworkHandler(WrappedComponent) {\n  var _this = this;\n  var ComponentWithNetworkHandler = function ComponentWithNetworkHandler(props) {\n    var _useState = (0, _react.useState)(navigator.onLine),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isConnected = _useState2[0],\n      setIsConnected = _useState2[1];\n    var _useState3 = (0, _react.useState)(0),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      retryKey = _useState4[0],\n      setRetryKey = _useState4[1];\n    (0, _react.useEffect)(function () {\n      var handleOnline = function handleOnline() {\n        return setIsConnected(true);\n      };\n      var handleOffline = function handleOffline() {\n        return setIsConnected(false);\n      };\n      window.addEventListener('online', handleOnline);\n      window.addEventListener('offline', handleOffline);\n      return function () {\n        window.removeEventListener('online', handleOnline);\n        window.removeEventListener('offline', handleOffline);\n      };\n    }, []);\n    if (!isConnected) {\n      return _react.default.createElement(_NetworkHandler.default, {\n        onRetry: function onRetry() {\n          setRetryKey(function (prev) {\n            return prev + 1;\n          });\n          props.onRetry == null ? void 0 : props.onRetry();\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }\n      });\n    }\n    return _react.default.createElement(WrappedComponent, (0, _extends2.default)({\n      key: retryKey\n    }, props, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 12\n      }\n    }));\n  };\n  ComponentWithNetworkHandler.displayName = `withNetworkHandler(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n  return ComponentWithNetworkHandler;\n}\nfunction withNetworkHandlerWithHeader(WrappedComponent) {\n  var _this2 = this;\n  var ComponentWithNetworkHandlerWithHeader = function ComponentWithNetworkHandlerWithHeader(props) {\n    var _useState5 = (0, _react.useState)(navigator.onLine),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      isConnected = _useState6[0],\n      setIsConnected = _useState6[1];\n    var _useState7 = (0, _react.useState)(0),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      retryKey = _useState8[0],\n      setRetryKey = _useState8[1];\n    (0, _react.useEffect)(function () {\n      var handleOnline = function handleOnline() {\n        return setIsConnected(true);\n      };\n      var handleOffline = function handleOffline() {\n        return setIsConnected(false);\n      };\n      window.addEventListener('online', handleOnline);\n      window.addEventListener('offline', handleOffline);\n      return function () {\n        window.removeEventListener('online', handleOnline);\n        window.removeEventListener('offline', handleOffline);\n      };\n    }, []);\n    return _react.default.createElement(WrappedComponent, (0, _extends2.default)({\n      key: retryKey\n    }, props, {\n      isConnected: isConnected,\n      onRetry: function onRetry() {\n        return setRetryKey(function (prev) {\n          return prev + 1;\n        });\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }));\n  };\n  ComponentWithNetworkHandlerWithHeader.displayName = `withNetworkHandlerWithHeader(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\n  return ComponentWithNetworkHandlerWithHeader;\n}","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_NetworkHandler","_interopRequireDefault","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","withNetworkHandler","WrappedComponent","_this","ComponentWithNetworkHandler","props","_useState","useState","navigator","onLine","_useState2","_slicedToArray2","isConnected","setIsConnected","_useState3","_useState4","retryKey","setRetryKey","useEffect","handleOnline","handleOffline","window","addEventListener","removeEventListener","createElement","onRetry","prev","__self","__source","fileName","lineNumber","columnNumber","_extends2","key","displayName","name","withNetworkHandlerWithHeader","_this2","ComponentWithNetworkHandlerWithHeader","_useState5","_useState6","_useState7","_useState8"],"sources":["C:/Users/acer/Desktop/paltanweb/src/components/common/withNetworkHandler.tsx"],"sourcesContent":["// src/hoc/withNetworkHandler.tsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport NoConnectionScreen  from '@components/common/NetworkHandler';\r\n\r\ntype WithNetworkHandlerProps = {\r\n  isConnected?: boolean;\r\n  onRetry?: () => void;\r\n};\r\n\r\n// ✅ For normal screens (no header handling)\r\nexport function withNetworkHandler<P extends WithNetworkHandlerProps>(\r\n  WrappedComponent: React.ComponentType<P>\r\n) {\r\n  const ComponentWithNetworkHandler: React.FC<P> = (props) => {\r\n    const [isConnected, setIsConnected] = useState<boolean>(navigator.onLine);\r\n    const [retryKey, setRetryKey] = useState(0);\r\n\r\n    useEffect(() => {\r\n      const handleOnline = () => setIsConnected(true);\r\n      const handleOffline = () => setIsConnected(false);\r\n\r\n      window.addEventListener('online', handleOnline);\r\n      window.addEventListener('offline', handleOffline);\r\n\r\n      return () => {\r\n        window.removeEventListener('online', handleOnline);\r\n        window.removeEventListener('offline', handleOffline);\r\n      };\r\n    }, []);\r\n\r\n    if (!isConnected) {\r\n      return (\r\n        <NoConnectionScreen\r\n          onRetry={() => {\r\n            setRetryKey(prev => prev + 1);\r\n            props.onRetry?.();\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return <WrappedComponent key={retryKey} {...props} />;\r\n  };\r\n\r\n  ComponentWithNetworkHandler.displayName = `withNetworkHandler(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\r\n\r\n  return ComponentWithNetworkHandler;\r\n}\r\n\r\n// ✅ For screens that use a header or need network props\r\nexport function withNetworkHandlerWithHeader<P extends object>(\r\n  WrappedComponent: React.ComponentType<P & WithNetworkHandlerProps>\r\n) {\r\n  const ComponentWithNetworkHandlerWithHeader: React.FC<P> = (props) => {\r\n    const [isConnected, setIsConnected] = useState<boolean>(navigator.onLine);\r\n    const [retryKey, setRetryKey] = useState(0);\r\n\r\n    useEffect(() => {\r\n      const handleOnline = () => setIsConnected(true);\r\n      const handleOffline = () => setIsConnected(false);\r\n\r\n      window.addEventListener('online', handleOnline);\r\n      window.addEventListener('offline', handleOffline);\r\n\r\n      return () => {\r\n        window.removeEventListener('online', handleOnline);\r\n        window.removeEventListener('offline', handleOffline);\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <WrappedComponent\r\n        key={retryKey}\r\n        {...props}\r\n        isConnected={isConnected}\r\n        onRetry={() => setRetryKey(prev => prev + 1)}\r\n      />\r\n    );\r\n  };\r\n\r\n  ComponentWithNetworkHandlerWithHeader.displayName = `withNetworkHandlerWithHeader(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\r\n\r\n  return ComponentWithNetworkHandlerWithHeader;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}