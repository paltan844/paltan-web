{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tokenStorage = exports.saveAddresses = exports.mmkvStorage = exports.getAddresses = exports.clearAddresses = void 0;\nvar tokenStorage = exports.tokenStorage = {\n  setString: function setString(key, value) {\n    localStorage.setItem(key, value);\n  },\n  getString: function getString(key) {\n    return localStorage.getItem(key);\n  },\n  delete: function _delete(key) {\n    localStorage.removeItem(key);\n  },\n  clearAll: function clearAll() {\n    console.log(\"ðŸ§¹ tokenStorage.clearAll() called\");\n    localStorage.clear();\n  }\n};\nvar mmkvStorage = exports.mmkvStorage = {\n  setItem: function setItem(key, value) {\n    localStorage.setItem(key, value);\n  },\n  getItem: function getItem(key) {\n    var value = localStorage.getItem(key);\n    return value != null ? value : null;\n  },\n  removeItem: function removeItem(key) {\n    localStorage.removeItem(key);\n  },\n  addOnValueChangedListener: function addOnValueChangedListener(callback) {\n    var listener = function listener(event) {\n      if (event.key) callback(event.key);\n    };\n    window.addEventListener('storage', listener);\n    return {\n      remove: function remove() {\n        return window.removeEventListener('storage', listener);\n      }\n    };\n  },\n  clearAll: function clearAll() {\n    localStorage.clear();\n  }\n};\nvar ADDRESS_KEY = 'savedAddresses';\nvar saveAddresses = exports.saveAddresses = function saveAddresses(addresses) {\n  mmkvStorage.setItem(ADDRESS_KEY, JSON.stringify(addresses));\n};\nvar getAddresses = exports.getAddresses = function getAddresses() {\n  var saved = mmkvStorage.getItem(ADDRESS_KEY);\n  return saved ? JSON.parse(saved) : [];\n};\nvar clearAddresses = exports.clearAddresses = function clearAddresses() {\n  mmkvStorage.removeItem(ADDRESS_KEY);\n};","map":{"version":3,"names":["tokenStorage","exports","setString","key","value","localStorage","setItem","getString","getItem","delete","removeItem","clearAll","console","log","clear","mmkvStorage","addOnValueChangedListener","callback","listener","event","window","addEventListener","remove","removeEventListener","ADDRESS_KEY","saveAddresses","addresses","JSON","stringify","getAddresses","saved","parse","clearAddresses"],"sources":["C:/Users/acer/Desktop/paltanweb/src/state/storage.tsx"],"sourcesContent":["// storage.ts (Web Compatible)\r\n// âœ… tokenStorage (for web)\r\nexport const tokenStorage = {\r\n  setString: (key: string, value: string) => {\r\n    localStorage.setItem(key, value);\r\n  },\r\n  getString: (key: string) => {\r\n    return localStorage.getItem(key);\r\n  },\r\n  delete: (key: string) => {\r\n    localStorage.removeItem(key);\r\n  },\r\n  clearAll: () => {\r\n    console.log(\"ðŸ§¹ tokenStorage.clearAll() called\");\r\n    localStorage.clear();\r\n  },\r\n};\r\n\r\n\r\n// âœ… mmkvStorage (generic key-value storage)\r\nexport const mmkvStorage = {\r\n  setItem: (key: string, value: string) => {\r\n    localStorage.setItem(key, value);\r\n  },\r\n  getItem: (key: string) => {\r\n    const value = localStorage.getItem(key);\r\n    return value ?? null;\r\n  },\r\n  removeItem: (key: string) => {\r\n    localStorage.removeItem(key);\r\n  },\r\n  addOnValueChangedListener: (callback: (key: string) => void) => {\r\n    const listener = (event: StorageEvent) => {\r\n      if (event.key) callback(event.key);\r\n    };\r\n    window.addEventListener('storage', listener);\r\n    return {\r\n      remove: () => window.removeEventListener('storage', listener),\r\n    };\r\n  },\r\n  clearAll: () => {\r\n    localStorage.clear();\r\n  },\r\n};\r\n\r\n// âœ… Address helpers (same as before)\r\nconst ADDRESS_KEY = 'savedAddresses';\r\n\r\nexport const saveAddresses = (addresses: string[]) => {\r\n  mmkvStorage.setItem(ADDRESS_KEY, JSON.stringify(addresses));\r\n};\r\n\r\nexport const getAddresses = (): string[] => {\r\n  const saved = mmkvStorage.getItem(ADDRESS_KEY);\r\n  return saved ? JSON.parse(saved) : [];\r\n};\r\n\r\nexport const clearAddresses = () => {\r\n  mmkvStorage.removeItem(ADDRESS_KEY);\r\n};\r\n"],"mappings":";;;;AAEO,IAAMA,YAAY,GAAAC,OAAA,CAAAD,YAAA,GAAG;EAC1BE,SAAS,EAAE,SAAXA,SAASA,CAAGC,GAAW,EAAEC,KAAa,EAAK;IACzCC,YAAY,CAACC,OAAO,CAACH,GAAG,EAAEC,KAAK,CAAC;EAClC,CAAC;EACDG,SAAS,EAAE,SAAXA,SAASA,CAAGJ,GAAW,EAAK;IAC1B,OAAOE,YAAY,CAACG,OAAO,CAACL,GAAG,CAAC;EAClC,CAAC;EACDM,MAAM,EAAE,SAARA,OAAMA,CAAGN,GAAW,EAAK;IACvBE,YAAY,CAACK,UAAU,CAACP,GAAG,CAAC;EAC9B,CAAC;EACDQ,QAAQ,EAAE,SAAVA,QAAQA,CAAA,EAAQ;IACdC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAChDR,YAAY,CAACS,KAAK,CAAC,CAAC;EACtB;AACF,CAAC;AAIM,IAAMC,WAAW,GAAAd,OAAA,CAAAc,WAAA,GAAG;EACzBT,OAAO,EAAE,SAATA,OAAOA,CAAGH,GAAW,EAAEC,KAAa,EAAK;IACvCC,YAAY,CAACC,OAAO,CAACH,GAAG,EAAEC,KAAK,CAAC;EAClC,CAAC;EACDI,OAAO,EAAE,SAATA,OAAOA,CAAGL,GAAW,EAAK;IACxB,IAAMC,KAAK,GAAGC,YAAY,CAACG,OAAO,CAACL,GAAG,CAAC;IACvC,OAAOC,KAAK,WAALA,KAAK,GAAI,IAAI;EACtB,CAAC;EACDM,UAAU,EAAE,SAAZA,UAAUA,CAAGP,GAAW,EAAK;IAC3BE,YAAY,CAACK,UAAU,CAACP,GAAG,CAAC;EAC9B,CAAC;EACDa,yBAAyB,EAAE,SAA3BA,yBAAyBA,CAAGC,QAA+B,EAAK;IAC9D,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,KAAmB,EAAK;MACxC,IAAIA,KAAK,CAAChB,GAAG,EAAEc,QAAQ,CAACE,KAAK,CAAChB,GAAG,CAAC;IACpC,CAAC;IACDiB,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEH,QAAQ,CAAC;IAC5C,OAAO;MACLI,MAAM,EAAE,SAARA,MAAMA,CAAA;QAAA,OAAQF,MAAM,CAACG,mBAAmB,CAAC,SAAS,EAAEL,QAAQ,CAAC;MAAA;IAC/D,CAAC;EACH,CAAC;EACDP,QAAQ,EAAE,SAAVA,QAAQA,CAAA,EAAQ;IACdN,YAAY,CAACS,KAAK,CAAC,CAAC;EACtB;AACF,CAAC;AAGD,IAAMU,WAAW,GAAG,gBAAgB;AAE7B,IAAMC,aAAa,GAAAxB,OAAA,CAAAwB,aAAA,GAAG,SAAhBA,aAAaA,CAAIC,SAAmB,EAAK;EACpDX,WAAW,CAACT,OAAO,CAACkB,WAAW,EAAEG,IAAI,CAACC,SAAS,CAACF,SAAS,CAAC,CAAC;AAC7D,CAAC;AAEM,IAAMG,YAAY,GAAA5B,OAAA,CAAA4B,YAAA,GAAG,SAAfA,YAAYA,CAAA,EAAmB;EAC1C,IAAMC,KAAK,GAAGf,WAAW,CAACP,OAAO,CAACgB,WAAW,CAAC;EAC9C,OAAOM,KAAK,GAAGH,IAAI,CAACI,KAAK,CAACD,KAAK,CAAC,GAAG,EAAE;AACvC,CAAC;AAEM,IAAME,cAAc,GAAA/B,OAAA,CAAA+B,cAAA,GAAG,SAAjBA,cAAcA,CAAA,EAAS;EAClCjB,WAAW,CAACL,UAAU,CAACc,WAAW,CAAC;AACrC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}