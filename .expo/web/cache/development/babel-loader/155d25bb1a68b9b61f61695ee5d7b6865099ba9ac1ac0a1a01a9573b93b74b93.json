{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLocationStorePincode = exports.useLocationStore = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _productService = require(\"../service/productService\");\nvar _zustand = require(\"zustand\");\nvar _storage = require(\"./storage\");\nvar initialSelectedLocation = _storage.mmkvStorage.getItem('selectedLocation') || '';\nvar rawSelectedLocationObject = _storage.mmkvStorage.getItem('selectedLocationObject');\nvar parsedSelectedLocationObject = null;\ntry {\n  parsedSelectedLocationObject = rawSelectedLocationObject ? JSON.parse(rawSelectedLocationObject) : null;\n} catch (e) {\n  console.warn('⚠️ MMKV parse error for selectedLocationObject', e);\n}\nvar useLocationStore = exports.useLocationStore = (0, _zustand.create)(function (set, _get) {\n  return {\n    selectedLocation: initialSelectedLocation,\n    selectedLocationObject: parsedSelectedLocationObject,\n    setSelectedLocation: function setSelectedLocation(location) {\n      set({\n        selectedLocation: location\n      });\n      _storage.mmkvStorage.setItem('selectedLocation', location != null ? location : '');\n    },\n    setSelectedLocationObject: function setSelectedLocationObject(obj) {\n      set({\n        selectedLocationObject: obj\n      });\n      if (obj && typeof obj === 'object') {\n        _storage.mmkvStorage.setItem('selectedLocationObject', JSON.stringify(obj));\n      }\n    },\n    resetLocation: function resetLocation() {\n      set({\n        selectedLocation: '',\n        selectedLocationObject: null\n      });\n      _storage.mmkvStorage.removeItem('selectedLocation');\n      _storage.mmkvStorage.removeItem('selectedLocationObject');\n    }\n  };\n});\nvar useLocationStorePincode = exports.useLocationStorePincode = (0, _zustand.create)(function (set, get) {\n  return {\n    locationData: [],\n    setLocationData: function setLocationData(data) {\n      return set({\n        locationData: data\n      });\n    },\n    fetchLocationData: function () {\n      var _fetchLocationData = (0, _asyncToGenerator2.default)(function* () {\n        if (get().locationData.length === 0) {\n          var data = yield (0, _productService.getLocationData)();\n          if (data) {\n            set({\n              locationData: data\n            });\n          }\n        }\n      });\n      function fetchLocationData() {\n        return _fetchLocationData.apply(this, arguments);\n      }\n      return fetchLocationData;\n    }()\n  };\n});","map":{"version":3,"names":["_productService","require","_zustand","_storage","initialSelectedLocation","mmkvStorage","getItem","rawSelectedLocationObject","parsedSelectedLocationObject","JSON","parse","e","console","warn","useLocationStore","exports","create","set","_get","selectedLocation","selectedLocationObject","setSelectedLocation","location","setItem","setSelectedLocationObject","obj","stringify","resetLocation","removeItem","useLocationStorePincode","get","locationData","setLocationData","data","fetchLocationData","_fetchLocationData","_asyncToGenerator2","default","length","getLocationData","apply","arguments"],"sources":["C:/Users/acer/Desktop/paltanweb/src/state/locationStore.tsx"],"sourcesContent":["import { getLocationData } from '@service/productService';\r\nimport { create } from 'zustand';\r\nimport { mmkvStorage } from './storage';\r\n\r\ntype LocationState = {\r\n  selectedLocation: string;\r\n  selectedLocationObject: Record<string, any> | null;\r\n  setSelectedLocation: (location: string) => void;\r\n  setSelectedLocationObject: (locationObj: Record<string, any>) => void;\r\n  resetLocation: () => void;\r\n};\r\n\r\ninterface LocationStore {\r\n  locationData: any[];\r\n  setLocationData: (data: any[]) => void;\r\n  fetchLocationData: () => Promise<void>;\r\n}\r\n\r\n\r\nconst initialSelectedLocation = mmkvStorage.getItem('selectedLocation') || '';\r\nconst rawSelectedLocationObject = mmkvStorage.getItem('selectedLocationObject');\r\n\r\n\r\nlet parsedSelectedLocationObject = null;\r\ntry {\r\n  parsedSelectedLocationObject = rawSelectedLocationObject\r\n    ? JSON.parse(rawSelectedLocationObject)\r\n    : null;\r\n} catch (e) {\r\n  console.warn('⚠️ MMKV parse error for selectedLocationObject', e);\r\n}\r\n\r\nexport const useLocationStore = create<LocationState & {\r\n  resetLocation: () => void;\r\n  selectedLocationObject: any;\r\n  setSelectedLocationObject: (obj: any) => void;\r\n}>((set, _get) => ({\r\n  selectedLocation: initialSelectedLocation,\r\n  selectedLocationObject: parsedSelectedLocationObject,\r\n\r\n  setSelectedLocation: (location) => {\r\n    set({ selectedLocation: location });\r\n    mmkvStorage.setItem('selectedLocation', location ?? '');\r\n  },\r\n\r\n  setSelectedLocationObject: (obj) => {\r\n    set({ selectedLocationObject: obj });\r\n    if (obj && typeof obj === 'object') {\r\n      mmkvStorage.setItem('selectedLocationObject', JSON.stringify(obj));\r\n    }\r\n  },\r\n\r\n  resetLocation: () => {\r\n    set({ selectedLocation: '', selectedLocationObject: null });\r\n    mmkvStorage.removeItem('selectedLocation');\r\n    mmkvStorage.removeItem('selectedLocationObject');\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport const useLocationStorePincode = create<LocationStore>((set, get) => ({\r\n  locationData: [],\r\n  setLocationData: (data) => set({ locationData: data }),\r\n  fetchLocationData: async () => {\r\n    if (get().locationData.length === 0) {\r\n      const data = await getLocationData();\r\n      if (data) {\r\n        set({ locationData: data });\r\n      }\r\n    }\r\n  },\r\n}));\r\n"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AAiBA,IAAMG,uBAAuB,GAAGC,oBAAW,CAACC,OAAO,CAAC,kBAAkB,CAAC,IAAI,EAAE;AAC7E,IAAMC,yBAAyB,GAAGF,oBAAW,CAACC,OAAO,CAAC,wBAAwB,CAAC;AAG/E,IAAIE,4BAA4B,GAAG,IAAI;AACvC,IAAI;EACFA,4BAA4B,GAAGD,yBAAyB,GACpDE,IAAI,CAACC,KAAK,CAACH,yBAAyB,CAAC,GACrC,IAAI;AACV,CAAC,CAAC,OAAOI,CAAC,EAAE;EACVC,OAAO,CAACC,IAAI,CAAC,gDAAgD,EAAEF,CAAC,CAAC;AACnE;AAEO,IAAMG,gBAAgB,GAAAC,OAAA,CAAAD,gBAAA,GAAG,IAAAE,eAAM,EAInC,UAACC,GAAG,EAAEC,IAAI;EAAA,OAAM;IACjBC,gBAAgB,EAAEf,uBAAuB;IACzCgB,sBAAsB,EAAEZ,4BAA4B;IAEpDa,mBAAmB,EAAE,SAArBA,mBAAmBA,CAAGC,QAAQ,EAAK;MACjCL,GAAG,CAAC;QAAEE,gBAAgB,EAAEG;MAAS,CAAC,CAAC;MACnCjB,oBAAW,CAACkB,OAAO,CAAC,kBAAkB,EAAED,QAAQ,WAARA,QAAQ,GAAI,EAAE,CAAC;IACzD,CAAC;IAEDE,yBAAyB,EAAE,SAA3BA,yBAAyBA,CAAGC,GAAG,EAAK;MAClCR,GAAG,CAAC;QAAEG,sBAAsB,EAAEK;MAAI,CAAC,CAAC;MACpC,IAAIA,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;QAClCpB,oBAAW,CAACkB,OAAO,CAAC,wBAAwB,EAAEd,IAAI,CAACiB,SAAS,CAACD,GAAG,CAAC,CAAC;MACpE;IACF,CAAC;IAEDE,aAAa,EAAE,SAAfA,aAAaA,CAAA,EAAQ;MACnBV,GAAG,CAAC;QAAEE,gBAAgB,EAAE,EAAE;QAAEC,sBAAsB,EAAE;MAAK,CAAC,CAAC;MAC3Df,oBAAW,CAACuB,UAAU,CAAC,kBAAkB,CAAC;MAC1CvB,oBAAW,CAACuB,UAAU,CAAC,wBAAwB,CAAC;IAClD;EACF,CAAC;AAAA,CAAC,CAAC;AAII,IAAMC,uBAAuB,GAAAd,OAAA,CAAAc,uBAAA,GAAG,IAAAb,eAAM,EAAgB,UAACC,GAAG,EAAEa,GAAG;EAAA,OAAM;IAC1EC,YAAY,EAAE,EAAE;IAChBC,eAAe,EAAE,SAAjBA,eAAeA,CAAGC,IAAI;MAAA,OAAKhB,GAAG,CAAC;QAAEc,YAAY,EAAEE;MAAK,CAAC,CAAC;IAAA;IACtDC,iBAAiB;MAAA,IAAAC,kBAAA,OAAAC,kBAAA,CAAAC,OAAA,EAAE,aAAY;QAC7B,IAAIP,GAAG,CAAC,CAAC,CAACC,YAAY,CAACO,MAAM,KAAK,CAAC,EAAE;UACnC,IAAML,IAAI,SAAS,IAAAM,+BAAe,EAAC,CAAC;UACpC,IAAIN,IAAI,EAAE;YACRhB,GAAG,CAAC;cAAEc,YAAY,EAAEE;YAAK,CAAC,CAAC;UAC7B;QACF;MACF,CAAC;MAAA,SAPDC,iBAAiBA,CAAA;QAAA,OAAAC,kBAAA,CAAAK,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAjBP,iBAAiB;IAAA;EAQnB,CAAC;AAAA,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}