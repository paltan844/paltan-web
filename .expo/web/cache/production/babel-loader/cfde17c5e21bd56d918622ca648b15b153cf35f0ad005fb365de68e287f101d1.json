{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.clearMemo=clearMemo;exports.getSupportedPlatformInfoAsync=getSupportedPlatformInfoAsync;exports.getSupportedPlatformInfoFunctions=getSupportedPlatformInfoFunctions;exports.getSupportedPlatformInfoSync=getSupportedPlatformInfoSync;var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _reactNative=require(\"react-native\");var _excluded=[\"syncGetter\"];var memo={};function clearMemo(){memo={};}function getSupportedFunction(supportedPlatforms,getter,defaultGetter){var supportedMap={};supportedPlatforms.filter(function(key){return _reactNative.Platform.OS==key;}).forEach(function(key){return supportedMap[key]=getter;});return _reactNative.Platform.select(Object.assign({},supportedMap,{default:defaultGetter}));}function getSupportedPlatformInfoSync(_ref){var getter=_ref.getter,supportedPlatforms=_ref.supportedPlatforms,defaultValue=_ref.defaultValue,memoKey=_ref.memoKey;if(memoKey&&memo[memoKey]!=undefined){return memo[memoKey];}else{var output=getSupportedFunction(supportedPlatforms,getter,function(){return defaultValue;})();if(memoKey){memo[memoKey]=output;}return output;}}function getSupportedPlatformInfoAsync(_x){return _getSupportedPlatformInfoAsync.apply(this,arguments);}function _getSupportedPlatformInfoAsync(){_getSupportedPlatformInfoAsync=(0,_asyncToGenerator2.default)(function*(_ref2){var getter=_ref2.getter,supportedPlatforms=_ref2.supportedPlatforms,defaultValue=_ref2.defaultValue,memoKey=_ref2.memoKey;if(memoKey&&memo[memoKey]!=undefined){return memo[memoKey];}else{var output=yield getSupportedFunction(supportedPlatforms,getter,function(){return Promise.resolve(defaultValue);})();if(memoKey){memo[memoKey]=output;}return output;}});return _getSupportedPlatformInfoAsync.apply(this,arguments);}function getSupportedPlatformInfoFunctions(_ref3){var syncGetter=_ref3.syncGetter,asyncParams=(0,_objectWithoutProperties2.default)(_ref3,_excluded);return[function(){return getSupportedPlatformInfoAsync(asyncParams);},function(){return getSupportedPlatformInfoSync(Object.assign({},asyncParams,{getter:syncGetter}));}];}","map":{"version":3,"names":["_reactNative","require","_excluded","memo","clearMemo","getSupportedFunction","supportedPlatforms","getter","defaultGetter","supportedMap","filter","key","Platform","OS","forEach","select","Object","assign","default","getSupportedPlatformInfoSync","_ref","defaultValue","memoKey","undefined","output","getSupportedPlatformInfoAsync","_x","_getSupportedPlatformInfoAsync","apply","arguments","_asyncToGenerator2","_ref2","Promise","resolve","getSupportedPlatformInfoFunctions","_ref3","syncGetter","asyncParams","_objectWithoutProperties2"],"sources":["C:\\Users\\acer\\Desktop\\paltanweb\\node_modules\\react-native-device-info\\lib\\module\\internal\\supported-platform-info.ts"],"sourcesContent":["import { Platform } from 'react-native';\n\nimport {\n  PlatformArray,\n  Getter,\n  GetSupportedPlatformInfoAsyncParams,\n  GetSupportedPlatformInfoSyncParams,\n  GetSupportedPlatformInfoFunctionsParams,\n} from './privateTypes';\n\ntype MemoType = { [key: string]: any };\n// centralized memo object\nlet memo: MemoType = {};\n\nexport function clearMemo() {\n  memo = {};\n}\n\n/**\n * function returns the proper getter based current platform X supported platforms\n * @param supportedPlatforms array of supported platforms (OS)\n * @param getter desired function used to get info\n * @param defaultGetter getter that returns a default value if desired getter is not supported by current platform\n */\nfunction getSupportedFunction<T>(\n  supportedPlatforms: PlatformArray,\n  getter: Getter<T>,\n  defaultGetter: Getter<T>\n): Getter<T> {\n  let supportedMap: any = {};\n  supportedPlatforms\n    .filter((key) => Platform.OS == key)\n    .forEach((key) => (supportedMap[key] = getter));\n  return Platform.select({\n    ...supportedMap,\n    default: defaultGetter,\n  });\n}\n\n/**\n * function used to get desired info synchronously — with optional memoization\n * @param param0\n */\nexport function getSupportedPlatformInfoSync<T>({\n  getter,\n  supportedPlatforms,\n  defaultValue,\n  memoKey,\n}: GetSupportedPlatformInfoSyncParams<T>): T {\n  if (memoKey && memo[memoKey] != undefined) {\n    return memo[memoKey];\n  } else {\n    const output = getSupportedFunction(supportedPlatforms, getter, () => defaultValue)();\n    if (memoKey) {\n      memo[memoKey] = output;\n    }\n    return output;\n  }\n}\n\n/**\n * function used to get desired info asynchronously — with optional memoization\n * @param param0\n */\nexport async function getSupportedPlatformInfoAsync<T>({\n  getter,\n  supportedPlatforms,\n  defaultValue,\n  memoKey,\n}: GetSupportedPlatformInfoAsyncParams<T>): Promise<T> {\n  if (memoKey && memo[memoKey] != undefined) {\n    return memo[memoKey];\n  } else {\n    const output = await getSupportedFunction(supportedPlatforms, getter, () =>\n      Promise.resolve(defaultValue)\n    )();\n    if (memoKey) {\n      memo[memoKey] = output;\n    }\n\n    return output;\n  }\n}\n\n/**\n * function that returns array of getter functions [async, sync]\n * @param param0\n */\nexport function getSupportedPlatformInfoFunctions<T>({\n  syncGetter,\n  ...asyncParams\n}: GetSupportedPlatformInfoFunctionsParams<T>): [Getter<Promise<T>>, Getter<T>] {\n  return [\n    () => getSupportedPlatformInfoAsync(asyncParams),\n    () => getSupportedPlatformInfoSync({ ...asyncParams, getter: syncGetter }),\n  ];\n}\n"],"mappings":"4kBAAA,IAAAA,YAAA,CAAAC,OAAA,qBAAAC,SAAA,gBAYA,GAAI,CAAAC,IAAc,CAAG,EAArB,CAEO,QAAS,CAAAC,SAATA,CAAA,CAAqB,CAC1BD,IAAI,CAAG,EAAP,CACD,CAQD,QAAS,CAAAE,oBAATA,CACEC,kBADF,CAEEC,MAFF,CAGEC,aAHF,CAIa,CACX,GAAI,CAAAC,YAAiB,CAAG,EAAxB,CACAH,kBAAkB,CACfI,MADH,CACW,SAAAC,GAAD,QAAS,CAAAC,qBAAQ,CAACC,EAAT,EAAeF,GADlC,IAEGG,OAFH,CAEY,SAAAH,GAAD,QAAU,CAAAF,YAAY,CAACE,GAAD,CAAZ,CAAoBJ,MAFzC,IAGA,MAAO,CAAAK,qBAAQ,CAACG,MAAT,CAAAC,MAAA,CAAAC,MAAA,IACFR,YADkB,EAErBS,OAAO,CAAEV,aAAA,EAFJ,CAAP,CAID,CAMM,QAAS,CAAAW,4BAATA,CAAAC,IAAA,CAKsC,IAJ3C,CAAAb,MAD8C,CAAAa,IAAA,CAC9Cb,MAD8C,CAE9CD,kBAF8C,CAAAc,IAAA,CAE9Cd,kBAF8C,CAG9Ce,YAH8C,CAAAD,IAAA,CAG9CC,YAH8C,CAI9CC,OAAA,CAAAF,IAAA,CAAAE,OAAA,CAEA,GAAIA,OAAO,EAAInB,IAAI,CAACmB,OAAD,CAAJ,EAAiBC,SAAhC,CAA2C,CACzC,MAAO,CAAApB,IAAI,CAACmB,OAAD,CAAX,CACD,CAFD,IAEO,CACL,GAAM,CAAAE,MAAM,CAAGnB,oBAAoB,CAACC,kBAAD,CAAqBC,MAArB,CAA6B,iBAAM,CAAAc,YAAnC,GAApB,EAAf,CACA,GAAIC,OAAJ,CAAa,CACXnB,IAAI,CAACmB,OAAD,CAAJ,CAAgBE,MAAhB,CACD,CACD,MAAO,CAAAA,MAAP,CACD,CACF,SAMqB,CAAAC,6BAAfA,CAAAC,EAAA,SAAAC,8BAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,+BAAA,EAAAA,8BAAA,IAAAG,kBAAA,CAAAZ,OAAA,YAAAa,KAAA,CAKgD,IAJrD,CAAAxB,MADqD,CAAAwB,KAAA,CACrDxB,MADqD,CAErDD,kBAFqD,CAAAyB,KAAA,CAErDzB,kBAFqD,CAGrDe,YAHqD,CAAAU,KAAA,CAGrDV,YAHqD,CAIrDC,OAAA,CAAAS,KAAA,CAAAT,OAAA,CAEA,GAAIA,OAAO,EAAInB,IAAI,CAACmB,OAAD,CAAJ,EAAiBC,SAAhC,CAA2C,CACzC,MAAO,CAAApB,IAAI,CAACmB,OAAD,CAAX,CACD,CAFD,IAEO,CACL,GAAM,CAAAE,MAAM,MAAS,CAAAnB,oBAAoB,CAACC,kBAAD,CAAqBC,MAArB,CAA6B,iBACpE,CAAAyB,OAAO,CAACC,OAAR,CAAgBZ,YAAhB,CADuC,GAApB,EAArB,CAGA,GAAIC,OAAJ,CAAa,CACXnB,IAAI,CAACmB,OAAD,CAAJ,CAAgBE,MAAhB,CACD,CAED,MAAO,CAAAA,MAAP,CACD,CACF,UAAAG,8BAAA,CAAAC,KAAA,MAAAC,SAAA,GAMM,QAAS,CAAAK,iCAATA,CAAAC,KAAA,CAGyE,IAF9E,CAAAC,UADmD,CAAAD,KAAA,CACnDC,UADmD,CAEhDC,WAAA,IAAAC,yBAAA,CAAApB,OAAA,EAAAiB,KAAA,CAAAjC,SAAA,EAEH,MAAO,CACL,iBAAM,CAAAuB,6BAA6B,CAACY,WAAD,CAD9B,GAEL,iBAAM,CAAAlB,4BAA4B,CAAAH,MAAA,CAAAC,MAAA,IAAMoB,WAAL,EAAkB9B,MAAM,CAAE6B,UAAA,EAA3B,CAF7B,GAAP,CAID","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}