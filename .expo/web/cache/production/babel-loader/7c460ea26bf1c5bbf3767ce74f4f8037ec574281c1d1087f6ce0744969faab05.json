{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireDefault(require(\"react\"));var _lucideReact=require(\"lucide-react\");var _Constants=require(\"../../utils/Constants\");var _cartStore=require(\"../../state/cartStore\");var _CustomText=_interopRequireDefault(require(\"./CustomText\"));var UniversalAdd=function UniversalAdd(_ref){var _item$stock;var item=_ref.item;var id=(item==null?void 0:item._id)||(item==null?void 0:item.id);var stock=(_item$stock=item==null?void 0:item.stock)!=null?_item$stock:0;var count=(0,_cartStore.useCartStore)(function(state){var _state$cart$find;return id?((_state$cart$find=state.cart.find(function(c){return c._id===id;}))==null?void 0:_state$cart$find.count)||0:0;});var _useCartStore=(0,_cartStore.useCartStore)(),addItem=_useCartStore.addItem,removeItem=_useCartStore.removeItem;if(!id)return null;if(stock===0){return _react.default.createElement(\"div\",{style:Object.assign({},styles.container,{borderColor:\"gray\",backgroundColor:\"#fff\"}),onClick:function onClick(e){return e.stopPropagation();}},_react.default.createElement(_CustomText.default,{variant:\"h9\",fontFamily:_Constants.Fonts.SemiBold,style:{color:\"rgba(235, 196, 172, 1)\"}},\"Out of Stock\"));}return _react.default.createElement(\"div\",{style:Object.assign({},styles.container,{backgroundColor:count===0?\"#fff\":_Constants.Colors.blue}),onClick:function onClick(e){return e.stopPropagation();}},count===0?_react.default.createElement(\"button\",{type:\"button\",onClick:function onClick(e){e.stopPropagation();addItem(item);},style:styles.add},_react.default.createElement(_CustomText.default,{variant:\"h9\",fontFamily:_Constants.Fonts.SemiBold,style:styles.addText},\"ADD\")):_react.default.createElement(\"div\",{style:styles.countercontainer},_react.default.createElement(\"button\",{type:\"button\",onClick:function onClick(e){e.stopPropagation();removeItem(id);},style:styles.iconButton},_react.default.createElement(_lucideReact.Minus,{color:\"#fff\",size:13,strokeWidth:2})),_react.default.createElement(_CustomText.default,{fontFamily:_Constants.Fonts.SemiBold,variant:\"h8\",style:styles.text},count),_react.default.createElement(\"button\",{type:\"button\",onClick:function onClick(e){e.stopPropagation();if(count<stock)addItem(item);},disabled:count>=stock,style:Object.assign({},styles.iconButton,{opacity:count>=stock?0.6:1,cursor:count>=stock?\"not-allowed\":\"pointer\"})},_react.default.createElement(_lucideReact.Plus,{color:count>=stock?\"#ccc\":\"#fff\",size:13,strokeWidth:2}))));};var styles={container:{width:70,borderRadius:8,borderWidth:1,borderStyle:\"solid\",borderColor:_Constants.Colors.secondary,justifyContent:\"center\",alignItems:\"center\",display:\"flex\",transition:\"background-color 0.2s ease\"},add:{width:\"100%\",padding:\"6px 4px\",justifyContent:\"center\",alignItems:\"center\",display:\"flex\",background:\"transparent\",border:\"none\",cursor:\"pointer\",outline:\"none\"},addText:{color:_Constants.Colors.secondary,letterSpacing:0.5},countercontainer:{width:\"100%\",justifyContent:\"space-between\",alignItems:\"center\",display:\"flex\",padding:\"5px 4px\",flexDirection:\"row\"},text:{color:\"#fff\",fontWeight:\"bold\"},iconButton:{background:\"transparent\",border:\"none\",cursor:\"pointer\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:2,outline:\"none\"}};var _default=exports.default=UniversalAdd;","map":{"version":3,"names":["_react","_interopRequireDefault","require","_lucideReact","_Constants","_cartStore","_CustomText","UniversalAdd","_ref","_item$stock","item","id","_id","stock","count","useCartStore","state","_state$cart$find","cart","find","c","_useCartStore","addItem","removeItem","default","createElement","style","Object","assign","styles","container","borderColor","backgroundColor","onClick","e","stopPropagation","variant","fontFamily","Fonts","SemiBold","color","Colors","blue","type","add","addText","countercontainer","iconButton","Minus","size","strokeWidth","text","disabled","opacity","cursor","Plus","width","borderRadius","borderWidth","borderStyle","secondary","justifyContent","alignItems","display","transition","padding","background","border","outline","letterSpacing","flexDirection","fontWeight","_default","exports"],"sources":["C:/Users/acer/Desktop/paltanweb/src/components/ui/UniversalAdd.tsx"],"sourcesContent":["import React, { FC } from \"react\";\r\nimport { Plus, Minus } from \"lucide-react\";\r\nimport { Fonts, Colors } from \"@utils/Constants\";\r\nimport { useCartStore } from \"@state/cartStore\";\r\nimport CustomText from \"@components/ui/CustomText\";\r\n\r\ninterface UniversalAddProps {\r\n  item: any;\r\n}\r\n\r\nconst UniversalAdd: FC<UniversalAddProps> = ({ item }) => {\r\n  const id = item?._id || item?.id;\r\n  const stock = item?.stock ?? 0;\r\n\r\n  const count = useCartStore((state) =>\r\n    id ? state.cart.find((c) => c._id === id)?.count || 0 : 0\r\n  );\r\n\r\n  const { addItem, removeItem } = useCartStore();\r\n\r\n  if (!id) return null;\r\n\r\n  if (stock === 0) {\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.container,\r\n          borderColor: \"gray\",\r\n          backgroundColor: \"#fff\",\r\n        }}\r\n        onClick={(e) => e.stopPropagation()} // ✅ prevent parent click\r\n      >\r\n        <CustomText\r\n          variant=\"h9\"\r\n          fontFamily={Fonts.SemiBold}\r\n          style={{ color: \"rgba(235, 196, 172, 1)\" }}\r\n        >\r\n          Out of Stock\r\n        </CustomText>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        ...styles.container,\r\n        backgroundColor: count === 0 ? \"#fff\" : Colors.blue,\r\n      }}\r\n      onClick={(e) => e.stopPropagation()} // ✅ critical\r\n    >\r\n      {count === 0 ? (\r\n        <button\r\n          type=\"button\"\r\n          onClick={(e) => {\r\n            e.stopPropagation(); // ✅ prevent card navigation\r\n            addItem(item);\r\n          }}\r\n          style={styles.add as any}\r\n        >\r\n          <CustomText\r\n            variant=\"h9\"\r\n            fontFamily={Fonts.SemiBold}\r\n            style={styles.addText as any}\r\n          >\r\n            ADD\r\n          </CustomText>\r\n        </button>\r\n      ) : (\r\n        <div style={styles.countercontainer}>\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.stopPropagation(); // ✅ stop parent navigation\r\n              removeItem(id);\r\n            }}\r\n            style={styles.iconButton as any}\r\n          >\r\n            <Minus color=\"#fff\" size={13} strokeWidth={2} />\r\n          </button>\r\n\r\n          <CustomText\r\n            fontFamily={Fonts.SemiBold}\r\n            variant=\"h8\"\r\n            style={styles.text as any}\r\n          >\r\n            {count}\r\n          </CustomText>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.stopPropagation(); // ✅ stop bubbling\r\n              if (count < stock) addItem(item);\r\n            }}\r\n            disabled={count >= stock}\r\n            style={{\r\n              ...styles.iconButton,\r\n              opacity: count >= stock ? 0.6 : 1,\r\n              cursor: count >= stock ? \"not-allowed\" : \"pointer\",\r\n            } as any}\r\n          >\r\n            <Plus\r\n              color={count >= stock ? \"#ccc\" : \"#fff\"}\r\n              size={13}\r\n              strokeWidth={2}\r\n            />\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles: Record<string, React.CSSProperties> = {\r\n  container: {\r\n    width: 70,\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    borderStyle: \"solid\",\r\n    borderColor: Colors.secondary,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    transition: \"background-color 0.2s ease\",\r\n  },\r\n  add: {\r\n    width: \"100%\",\r\n    padding: \"6px 4px\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    background: \"transparent\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    outline: \"none\",\r\n  },\r\n  addText: {\r\n    color: Colors.secondary,\r\n    letterSpacing: 0.5,\r\n  },\r\n  countercontainer: {\r\n    width: \"100%\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    padding: \"5px 4px\",\r\n    flexDirection: \"row\",\r\n  },\r\n  text: {\r\n    color: \"#fff\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  iconButton: {\r\n    background: \"transparent\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    padding: 2,\r\n    outline: \"none\",\r\n  },\r\n};\r\n\r\nexport default UniversalAdd;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}