{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.tokenStorage=exports.saveAddresses=exports.mmkvStorage=exports.getAddresses=exports.clearAddresses=void 0;var tokenStorage=exports.tokenStorage={setString:function setString(key,value){localStorage.setItem(key,value);},getString:function getString(key){return localStorage.getItem(key);},delete:function _delete(key){localStorage.removeItem(key);},clearAll:function clearAll(){console.log(\"ðŸ§¹ tokenStorage.clearAll() called\");localStorage.clear();}};var mmkvStorage=exports.mmkvStorage={setItem:function setItem(key,value){localStorage.setItem(key,value);},getItem:function getItem(key){var value=localStorage.getItem(key);return value!=null?value:null;},removeItem:function removeItem(key){localStorage.removeItem(key);},addOnValueChangedListener:function addOnValueChangedListener(callback){var listener=function listener(event){if(event.key)callback(event.key);};window.addEventListener('storage',listener);return{remove:function remove(){return window.removeEventListener('storage',listener);}};},clearAll:function clearAll(){localStorage.clear();}};var ADDRESS_KEY='savedAddresses';var saveAddresses=exports.saveAddresses=function saveAddresses(addresses){mmkvStorage.setItem(ADDRESS_KEY,JSON.stringify(addresses));};var getAddresses=exports.getAddresses=function getAddresses(){var saved=mmkvStorage.getItem(ADDRESS_KEY);return saved?JSON.parse(saved):[];};var clearAddresses=exports.clearAddresses=function clearAddresses(){mmkvStorage.removeItem(ADDRESS_KEY);};","map":{"version":3,"names":["tokenStorage","exports","setString","key","value","localStorage","setItem","getString","getItem","delete","removeItem","clearAll","console","log","clear","mmkvStorage","addOnValueChangedListener","callback","listener","event","window","addEventListener","remove","removeEventListener","ADDRESS_KEY","saveAddresses","addresses","JSON","stringify","getAddresses","saved","parse","clearAddresses"],"sources":["C:/Users/acer/Desktop/paltanweb/src/state/storage.tsx"],"sourcesContent":["// storage.ts (Web Compatible)\r\n// âœ… tokenStorage (for web)\r\nexport const tokenStorage = {\r\n  setString: (key: string, value: string) => {\r\n    localStorage.setItem(key, value);\r\n  },\r\n  getString: (key: string) => {\r\n    return localStorage.getItem(key);\r\n  },\r\n  delete: (key: string) => {\r\n    localStorage.removeItem(key);\r\n  },\r\n  clearAll: () => {\r\n    console.log(\"ðŸ§¹ tokenStorage.clearAll() called\");\r\n    localStorage.clear();\r\n  },\r\n};\r\n\r\n\r\n// âœ… mmkvStorage (generic key-value storage)\r\nexport const mmkvStorage = {\r\n  setItem: (key: string, value: string) => {\r\n    localStorage.setItem(key, value);\r\n  },\r\n  getItem: (key: string) => {\r\n    const value = localStorage.getItem(key);\r\n    return value ?? null;\r\n  },\r\n  removeItem: (key: string) => {\r\n    localStorage.removeItem(key);\r\n  },\r\n  addOnValueChangedListener: (callback: (key: string) => void) => {\r\n    const listener = (event: StorageEvent) => {\r\n      if (event.key) callback(event.key);\r\n    };\r\n    window.addEventListener('storage', listener);\r\n    return {\r\n      remove: () => window.removeEventListener('storage', listener),\r\n    };\r\n  },\r\n  clearAll: () => {\r\n    localStorage.clear();\r\n  },\r\n};\r\n\r\n// âœ… Address helpers (same as before)\r\nconst ADDRESS_KEY = 'savedAddresses';\r\n\r\nexport const saveAddresses = (addresses: string[]) => {\r\n  mmkvStorage.setItem(ADDRESS_KEY, JSON.stringify(addresses));\r\n};\r\n\r\nexport const getAddresses = (): string[] => {\r\n  const saved = mmkvStorage.getItem(ADDRESS_KEY);\r\n  return saved ? JSON.parse(saved) : [];\r\n};\r\n\r\nexport const clearAddresses = () => {\r\n  mmkvStorage.removeItem(ADDRESS_KEY);\r\n};\r\n"],"mappings":"2KAEO,GAAM,CAAAA,YAAY,CAAAC,OAAA,CAAAD,YAAA,CAAG,CAC1BE,SAAS,CAAE,QAAX,CAAAA,SAASA,CAAGC,GAAW,CAAEC,KAAa,CAAK,CACzCC,YAAY,CAACC,OAAO,CAACH,GAAG,CAAEC,KAAK,CAAC,CAClC,CAAC,CACDG,SAAS,CAAE,QAAX,CAAAA,SAASA,CAAGJ,GAAW,CAAK,CAC1B,MAAO,CAAAE,YAAY,CAACG,OAAO,CAACL,GAAG,CAAC,CAClC,CAAC,CACDM,MAAM,CAAE,QAAR,CAAAA,OAAMA,CAAGN,GAAW,CAAK,CACvBE,YAAY,CAACK,UAAU,CAACP,GAAG,CAAC,CAC9B,CAAC,CACDQ,QAAQ,CAAE,QAAV,CAAAA,QAAQA,CAAA,CAAQ,CACdC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAChDR,YAAY,CAACS,KAAK,CAAC,CAAC,CACtB,CACF,CAAC,CAIM,GAAM,CAAAC,WAAW,CAAAd,OAAA,CAAAc,WAAA,CAAG,CACzBT,OAAO,CAAE,QAAT,CAAAA,OAAOA,CAAGH,GAAW,CAAEC,KAAa,CAAK,CACvCC,YAAY,CAACC,OAAO,CAACH,GAAG,CAAEC,KAAK,CAAC,CAClC,CAAC,CACDI,OAAO,CAAE,QAAT,CAAAA,OAAOA,CAAGL,GAAW,CAAK,CACxB,GAAM,CAAAC,KAAK,CAAGC,YAAY,CAACG,OAAO,CAACL,GAAG,CAAC,CACvC,MAAO,CAAAC,KAAK,OAALA,KAAK,CAAI,IAAI,CACtB,CAAC,CACDM,UAAU,CAAE,QAAZ,CAAAA,UAAUA,CAAGP,GAAW,CAAK,CAC3BE,YAAY,CAACK,UAAU,CAACP,GAAG,CAAC,CAC9B,CAAC,CACDa,yBAAyB,CAAE,QAA3B,CAAAA,yBAAyBA,CAAGC,QAA+B,CAAK,CAC9D,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAmB,CAAK,CACxC,GAAIA,KAAK,CAAChB,GAAG,CAAEc,QAAQ,CAACE,KAAK,CAAChB,GAAG,CAAC,CACpC,CAAC,CACDiB,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEH,QAAQ,CAAC,CAC5C,MAAO,CACLI,MAAM,CAAE,QAAR,CAAAA,MAAMA,CAAA,QAAQ,CAAAF,MAAM,CAACG,mBAAmB,CAAC,SAAS,CAAEL,QAAQ,CAAC,EAC/D,CAAC,CACH,CAAC,CACDP,QAAQ,CAAE,QAAV,CAAAA,QAAQA,CAAA,CAAQ,CACdN,YAAY,CAACS,KAAK,CAAC,CAAC,CACtB,CACF,CAAC,CAGD,GAAM,CAAAU,WAAW,CAAG,gBAAgB,CAE7B,GAAM,CAAAC,aAAa,CAAAxB,OAAA,CAAAwB,aAAA,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,SAAmB,CAAK,CACpDX,WAAW,CAACT,OAAO,CAACkB,WAAW,CAAEG,IAAI,CAACC,SAAS,CAACF,SAAS,CAAC,CAAC,CAC7D,CAAC,CAEM,GAAM,CAAAG,YAAY,CAAA5B,OAAA,CAAA4B,YAAA,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAmB,CAC1C,GAAM,CAAAC,KAAK,CAAGf,WAAW,CAACP,OAAO,CAACgB,WAAW,CAAC,CAC9C,MAAO,CAAAM,KAAK,CAAGH,IAAI,CAACI,KAAK,CAACD,KAAK,CAAC,CAAG,EAAE,CACvC,CAAC,CAEM,GAAM,CAAAE,cAAc,CAAA/B,OAAA,CAAA+B,cAAA,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAClCjB,WAAW,CAACL,UAAU,CAACc,WAAW,CAAC,CACrC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}